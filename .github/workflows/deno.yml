# This workflow uses actions that are not certified by GitHub.
# They are provided by a third-party and are governed by
# separate terms of service, privacy policy, and support
# documentation.

# This workflow will install Deno then run `deno lint` and `deno test`.
# For more information see: https://github.com/denoland/setup-deno

# name: Deno

# on:
#   push:
#     branches: ["main"]
#   pull_request:
#     branches: ["main"]

# permissions:
#   contents: read

# jobs:
#   test:
#     runs-on: ubuntu-latest

#     steps:
#       - name: Setup repo
#         uses: actions/checkout@v4

#       - name: Setup Deno
#         # uses: denoland/setup-deno@v1
#         uses: denoland/setup-deno@61fe2df320078202e33d7d5ad347e7dcfa0e8f31  # v1.1.2
#         with:
#           deno-version: v1.x

#       # Uncomment this step to verify the use of 'deno fmt' on each commit.
#       # - name: Verify formatting
#       #   run: deno fmt --check

#       - name: Run linter
#         run: deno lint

#       - name: Run tests
#         run: deno test -A

name: Generate snake-gif

on:
  schedule:
    - cron: "0 */12 * * *" # Run every 12 hours
  workflow_dispatch:

jobs:
  build:
    name: Jobs to update datas
    runs-on: ubuntu-latest
    steps:
      # Snake Animation
      - name: Generate Snake Animation
        uses: Platane/snk@v3
        id: snake-gif
        with:
          github_user_name: Shakeel00111
          outputs: |
            dist/github-contribution-grid-snake.svg
            dist/github-contribution-grid-snake-dark.svg?palette=github-dark

      - name: Deploy to GitHub Pages
        uses: crazy-max/ghaction-github-pages@v2.1.3
        with:
          target_branch: output
          build_dir: dist
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
